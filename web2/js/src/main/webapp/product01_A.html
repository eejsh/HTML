<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-compatible" content="ie=edge, chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>javascript 상품리스트 출력</title>
<script src="http://192.168.100.77:8080/js/product_list.js"></script>

<script>

function allcheck2(){
	alert("test");
	
	if(f.allcheck.checked==true){
		var w=0;
		while(w<ea){
			f.pd[w].checked=false;
			w++;
		}
	}
	else{
	var w=0;
	while(w<ea){
		f.pd[w].checked=false;
		w++;
	}

	}
	
	
}
function method(){
	//하나라도 체그가 되어야하만 전송이 됨. (응용)
	f.submit();
	
}


</script>

<style>
</style>
</head>
<body>

	<form name="f" id="f" method="get" action="./product.html">

		<table border="1" cellpadding="0" cellspacing="0">
			<thead>
				<tr>
					<th><input type="checkbox" id="allcheck" onclick="allcheck2();"></th>
					<th>상품명</th>
					<th>가격</th>
				</tr>

			</thead>
			<tbody>

				<!-- <tr> -->
				<!-- <td><input type ="checkbox" name="a"></td> -->
				<!-- <td>상품명</td> -->
				<!-- <td>가격</td> -->
				<!-- </tr> -->
				<!-- </tbody> -->
		</table>

		<input type="button" value="구매하기" onclick="method2();">


	</form>

</body>
<script>

var html = document.getElementById("list");
var tr, td, input;
var ea = product["pd_name"].length;

// console.log(product);
// console.log(product["pd_name"][2][1]);

Object.keys(product["pd_name"]).forEach(function(aa,bb,cc){
//console.log(aa); // index번호
		
		tr = document.createElement("tr");
		
		var f;
		for (f in product["pd_name"][aa]) {
		
			td = document.createElement("td");
//console.log(typeof f);
			
//console.log(f);
//console.log(product["pd_name"][aa][f]);

			var code;
			switch (f) {
			case "0":                 //상품명
			 code=2;
			input = document.createElement("input");
			input.type ="checkbox";
			input.name ="pd";
			input.value = product["pd_name"][aa][code];
			td.append(input);
				break;
			case "1":  //가격
			code=0;
				td.append(product["pd_name"][aa][code]);
			  break;
			case "2":
				code=1;
				td.append(Number(product["pd_name"][aa][code]).toLocaleString());
				break;
			}
	//	  td.append(product["pd_name"][aa][code]);
   		   
   		  tr.append(td);
		}
		html.append(tr);
		
	});
</script>

</html>